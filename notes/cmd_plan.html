<!doctype html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="google34949e442e488102" />










  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="IceHe" />





  <link rel="alternate" href="/atom.xml" title="IceHe.me" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="http://7vzp68.com1.z0.glb.clouddn.com/common/favicon_h.ico?v=5.1.0" />






<meta name="description" content="http://www.cnblogs.com/kluan/p/4458278.html du -m –max-depth=1
http://siberiawolf.com/free_programming/index.html#Shell
https://www.cheatography.com/citguy/cheat-sheets/nix-users-and-groups/
https://w">
<meta property="og:type" content="website">
<meta property="og:title" content="Cmd Plan">
<meta property="og:url" content="http://icehe.me/notes/cmd_plan.html">
<meta property="og:site_name" content="IceHe.me">
<meta property="og:description" content="http://www.cnblogs.com/kluan/p/4458278.html du -m –max-depth=1
http://siberiawolf.com/free_programming/index.html#Shell
https://www.cheatography.com/citguy/cheat-sheets/nix-users-and-groups/
https://w">
<meta property="og:updated_time" content="2016-09-17T07:12:17.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cmd Plan">
<meta name="twitter:description" content="http://www.cnblogs.com/kluan/p/4458278.html du -m –max-depth=1
http://siberiawolf.com/free_programming/index.html#Shell
https://www.cheatography.com/citguy/cheat-sheets/nix-users-and-groups/
https://w">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://icehe.me/notes/cmd_plan.html"/>





  <title>
  

  
    Cmd Plan | IceHe.me
  
</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-60837823-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ba81ef13fc65c4dcf8cf8586d25818a4";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  

  <div class="container one-collumn   ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">IceHe.me</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">More is in vain when less will serve.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-cube"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-map">
          <a href="/bookmarks" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bookmark"></i> <br />
            
            Map
          </a>
        </li>
      
        
        <li class="menu-item menu-item-cv">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user-secret"></i> <br />
            
            CV
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

<style type="text/css">
    .center { text-align: center; }
    .bold   { font-weight: bold; }
    .hidden { display: none; }
</style>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
  <header class="post-header">

	<h2 class="post-title" itemprop="name headline">Cmd Plan</h2>



</header>

    
    
      <p><a href="http://www.cnblogs.com/kluan/p/4458278.html" target="_blank" rel="external">http://www.cnblogs.com/kluan/p/4458278.html</a> du -m –max-depth=1</p>
<p><a href="http://siberiawolf.com/free_programming/index.html#Shell" target="_blank" rel="external">http://siberiawolf.com/free_programming/index.html#Shell</a></p>
<p><a href="https://www.cheatography.com/citguy/cheat-sheets/nix-users-and-groups/" target="_blank" rel="external">https://www.cheatography.com/citguy/cheat-sheets/nix-users-and-groups/</a></p>
<p><a href="https://www.cheatography.com/mrinflictor/cheat-sheets/centos/" target="_blank" rel="external">https://www.cheatography.com/mrinflictor/cheat-sheets/centos/</a></p>
<p><a href="https://www.cheatography.com/nielzzz/cheat-sheets/ububtu-server/" target="_blank" rel="external">https://www.cheatography.com/nielzzz/cheat-sheets/ububtu-server/</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/operations.md" target="_blank" rel="external">Linux常用操作</a> - watch, nmcli, fdisk</p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/basic.md" target="_blank" rel="external">chmod 0000 权限用法</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/bash.md" target="_blank" rel="external">bash的用法</a></p>
<p><a href="http://liwei.life/2016/05/16/69/" target="_blank" rel="external">SHELL编程之语法基础 – 邹立巍的博客</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/commands.md" target="_blank" rel="external">bash命令一览</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/debian.md" target="_blank" rel="external">Debian的用法</a></p>
<p><a href="https://curl.haxx.se/" target="_blank" rel="external">cUrl</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/bash/archiving.md" target="_blank" rel="external">归档和备份</a></p>
<p><a href="http://popozhu.github.io/2013/06/24/%E4%B8%80%E4%BA%9B%E5%A5%BD%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4/" target="_blank" rel="external">一些好用的命令</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/process.md" target="_blank" rel="external">进程处理</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/package.md" target="_blank" rel="external">软件包管理</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/operations.md" target="_blank" rel="external">Linux常用操作</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/dev/linux/file-processing.md" target="_blank" rel="external">文件处理</a></p>
<p><a href="http://www.cheatography.com/tme520/cheat-sheets/grep/" target="_blank" rel="external">grep</a></p>
<p><a href="https://github.com/ruanyf/articles/blob/master/2015/2015-02-19-make.md" target="_blank" rel="external">Make 命令教程</a></p>
<p>lsof : list open files</p>
<p>0 Blg: CLI Note! #g</p>
<p>pwd 命令用于显示当前目录。</p>
<p>env 查看环境变量</p>
<p>/etc/hosts：左侧 ip，右侧域名。（脑残不止一两次了！）</p>
<p>「命令行的艺术」<a href="https://github.com/jlevy/the-art-of-command-line/blob/master/README.md" target="_blank" rel="external">https://github.com/jlevy/the-art-of-command-line/blob/master/README.md</a></p>
<p>sed <a href="http://coolshell.cn/articles/9104.html" target="_blank" rel="external">http://coolshell.cn/articles/9104.html</a></p>
<p>awk <a href="http://coolshell.cn/articles/9070.html" target="_blank" rel="external">http://coolshell.cn/articles/9070.html</a></p>
<linux查看环境变量当前信息和查看命令 201005="" http:="" os.51cto.com="" art="" 202463.htm="">

<features -="" iterm2="" mac="" os="" terminal="" replacement="" https:="" iterm2.com="" features.html="">

<p><a href="http://www.pixelbeat.org/cmdline.html" target="_blank" rel="external">http://www.pixelbeat.org/cmdline.html</a></p>
<p><a href="http://www.unixguide.net/linux/linuxshortcuts.shtml" target="_blank" rel="external">http://www.unixguide.net/linux/linuxshortcuts.shtml</a></p>
<p><a href="http://www.rain.org/~mkummel/unix.html" target="_blank" rel="external">http://www.rain.org/~mkummel/unix.html</a></p>
<p><a href="http://www.catonmat.net/blog/set-operations-in-unix-shell-simplified/" target="_blank" rel="external">http://www.catonmat.net/blog/set-operations-in-unix-shell-simplified/</a></p>
<p>Bash <a href="http://www.mediacollege.com/cgi-bin/man/page.cgi?topic=bash" target="_blank" rel="external">http://www.mediacollege.com/cgi-bin/man/page.cgi?topic=bash</a></p>
<p><a href="https://www.quora.com/What-are-some-lesser-known-but-useful-Unix-commands" target="_blank" rel="external">https://www.quora.com/What-are-some-lesser-known-but-useful-Unix-commands</a></p>
<p><a href="https://www.quora.com/What-are-the-most-useful-Swiss-army-knife-one-liners-on-Unix" target="_blank" rel="external">https://www.quora.com/What-are-the-most-useful-Swiss-army-knife-one-liners-on-Unix</a></p>
<p><a href="https://www.quora.com/What-are-some-time-saving-tips-that-every-Linux-user-should-know" target="_blank" rel="external">https://www.quora.com/What-are-some-time-saving-tips-that-every-Linux-user-should-know</a></p>
<p><a href="http://man.linuxde.net" target="_blank" rel="external">http://man.linuxde.net</a></p>
<p><a href="http://explainshell.com/" target="_blank" rel="external">http://explainshell.com/</a></p>
<p>删除文件夹实例：<br>rm -rf /var/log/httpd/access<br>将会删除/var/log/httpd/access目录以及其下所有文件、文件夹</p>
<p>删除文件使用实例：<br>rm -f /var/log/httpd/access.log<br>将会强制删除/var/log/httpd/access.log这个文件</p>
<p>linux下重命名文件或文件夹的命令mv既可以重命名，又可以移动文件或文件夹.<br>例子：将目录A重命名为B<br>mv A B<br>例子：将/a目录移动到/b下，并重命名为c<br>mv /a /b/c</p>
<p>建立符号连接<br>ln -s src dest<br>为某一个文件在另外一个位置建立一个同步的链接，最常用的参数是-s<br>具体用法是：ln –s 源文件 目标文件。<br>当要在不同的目录，用到相同的文件时，不需要在每一个需要的目录下都放一个必须相同的文件，<br>只要在某个固定的目录，放上该文件，然后在其它 的目录下用ln命令链接（link）它就可以，不必重复的占用磁盘空间。<br>例如：ln –s /bin/less /usr/local/bin/less -s 是代号（symbolic）的意思。</p>
<p>查找一个命令的绝对路径<br>where command_name</p>
<p>MacOS下没有Linux的tree指令用以查看目录树，<br>可以用一下的指令来代替：<br>find . -print | sed -e ‘s;[^/]*/;|<strong><strong>;g;s;</strong></strong>|; |;g’</p>
<p>wget<br>是一个从网络上自动下载文件的自由工具，支持通过HTTP、HTTPS、FTP三个最常见的TCP/IP协议下载，并可以使用HTTP代理。wget名称的由来是“World Wide Web”与“get”的结合。</p>
<p>uname -a<br>查看系统的主要信息<br>（cat /etc/issue     查看系统版本）</p>
<p>sudo -s 和 su root<br>切换到root权限下</p>
<p>ifconfig<br>获取本机的ip等有关信息</p>
<p>rsync</p>
<h1 id="将代码从本地同步到服务端处"><a href="#将代码从本地同步到服务端处" class="headerlink" title="将代码从本地同步到服务端处"></a>将代码从本地同步到服务端处</h1><p>rsync -avzP –delete –password-file=/Users/IceHe/.rsync.pwd –exclude=’.git’ –exclude=’.idea’ /Users/IceHe/Coding/Work/weibov5_code_RSYNC_DEV/ rsync://www@dev:8875/weibov5_code</p>
<h1 id="将代码从服务端拷贝到本地来"><a href="#将代码从服务端拷贝到本地来" class="headerlink" title="将代码从服务端拷贝到本地来"></a>将代码从服务端拷贝到本地来</h1><p>rsync -avzP –delete –password-file=/Users/IceHe/.rsync.pwd –exclude=’.git’ –exclude=’.idea’ rsync://www@dev:8875/weibov5_code /Users/IceHe/Coding/Work/weibov5_code_RSYNC_DEV</p>
<p>git clone <url> <dest_path><br>设置dest_path，可以将文件放到指定的目录中</dest_path></url></p>
<p>在vim中使用Shell指令<br>先输入“ :! ”，再输入你要使用的指令！</p>
<p>lsof -i tcp:80 哪个程序占用了80端口？</p>
<p>^old^new<br>替换前一条命令里的部分字符串。<br>场景：echo”wanderful”，其实是想输出echo”wonderful”。<br>只需要^a^o</p>
<p>man ascii<br>显示ascii码表。</p>
<p>netstat–tlnp<br>列出本机进程监听的端口号</p>
<p>how to use Shadowsocks in Terminal on OS X<br><a href="http://www.jianshu.com/p/16d7275ec736" target="_blank" rel="external">http://www.jianshu.com/p/16d7275ec736</a></p>
<hr>
<p><a href="http://linuxtools-rst.readthedocs.org/zh_CN" target="_blank" rel="external">Linux Tools Quick Tutorial</a><br><a href="linuxtools-rst.readthedocs.org/zh_CN/latest/tool/crontab.html">crontab 定时任务</a><br><a href="http://www.jbxue.com/LINUXjishu/9606.html" target="_blank" rel="external">显示文件内容的linux终端命令(cat、head、less、tail等)</a><br><a href="http://www.cnblogs.com/peida/archive/2012/12/04/2800684.html" target="_blank" rel="external">每天一个linux命令（30）: chown命令</a><br><a href="http://www.cnblogs.com/CgenJ/archive/2011/07/28/2119454.html" target="_blank" rel="external">chmod 查看及修改文件权限</a><br><a href="http://zhidao.baidu.com/link?url=p2TZzZRgciRt_BhF8V1U6ECHgla2bHQcSvybourupgSMi9-LRZ5EciILv5ZQm6wKKXXG1tXH8gYg5OagHKfCuPZKz5UVobELUX3oE2Wq0_G" target="_blank" rel="external">查找目录下的所有文件中是否含有某个字符串</a><br><a href="http://mp.weixin.qq.com/s?__biz=MzAwNjMxMTA5Mw==&amp;mid=400665034&amp;idx=1&amp;sn=e123ee0e7acf0ad1dc79caa672348e3b&amp;scene=1&amp;srcid=11287mrCChrjerjkwuA0ej0K#rd" target="_blank" rel="external">Unix 高手的 10 个习惯</a><br><a href="http://blogread.cn/it/article/6209" target="_blank" rel="external">Linux常用系统信息查看命令</a><br><a href="http://www.centoscn.com/CentOS/help/2014/0310/2540.html" target="_blank" rel="external">CentOS系统中常用查看日志命令</a><br><a href="http://blog.chinaunix.net/uid-1840233-id-3147304.html" target="_blank" rel="external">tar 解压 / 压缩</a><br><a href="http://blog.jobbole.com/88704/" target="_blank" rel="external">监控 Linux 的 命令行工具</a><br><a href="http://os.51cto.com/art/201003/186325.htm" target="_blank" rel="external">详述Linux ftp命令的使用方法</a><br><a href="http://waiting.iteye.com/blog/643171" target="_blank" rel="external">rsync 简明教程</a><br><a href="http://www.oschina.net/translate/linux-netcat-command" target="_blank" rel="external">nc (netcat) - 网络工具中的瑞士军刀</a><br><a href="http://blog.jobbole.com/85378/" target="_blank" rel="external">20个 Unix/Linux 命令技巧</a><br><a href="http://www.111cn.net/sys/linux/78617.htm" target="_blank" rel="external">linux expect命令的使用方法介绍</a><br><a href="http://haiquan.sinaapp.com/2013/03/%E3%80%90%E5%8E%9F%E5%88%9B%E3%80%91bash%E4%B8%8Bctrl-c%E3%80%81ctrl-d%E5%92%8Cctrl-z%E7%9A%84%E5%8C%BA%E5%88%AB/" target="_blank" rel="external">Bash下Ctrl-C、Ctrl-D和Ctrl-Z的区别</a><br><a href="http://blog.csdn.net/duguduchong/article/details/8126778" target="_blank" rel="external">Linux Add “sudoer”</a><br><a href="http://xu020408.blog.163.com/blog/static/26548920097209315756/" target="_blank" rel="external">linux 文件名命名规则</a><br><a href="http://www.jb51.net/os/RedHat/105909.html" target="_blank" rel="external">CentOS 安装vsftp 建新用户的方法</a><br><a href="http://fanli7.net/a/caozuoxitong/Linux/20111123/145772.html" target="_blank" rel="external">Linux Partition n HD Type 分区和硬盘类型</a></p>
<h1 id="Copy-File-amp-Dir-to-another-dir"><a href="#Copy-File-amp-Dir-to-another-dir" class="headerlink" title="Copy File &amp; Dir to another dir"></a>Copy File &amp; Dir to another dir</h1><p>About Windows CMD<br><code>xcopy E:\Music_pop\*.mp3 /s d:\t_cp_mp3_0\.</code><br><code>for /r E:\Music_symphony %i in (*.mp3) do @echo %i &amp;&amp; @copy /y &quot;%i&quot; d:\t_cp_mp3_0</code></p>
<h1 id="CentOS-6-5-Locale-Problem"><a href="#CentOS-6-5-Locale-Problem" class="headerlink" title="CentOS 6.5 Locale Problem"></a>CentOS 6.5 Locale Problem</h1><p>Problem:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">$ locale</div><div class="line">locale: Cannot set LC_CTYPE to default locale: No such file or directory</div><div class="line">locale: Cannot set LC_ALL to default locale: ?????????</div><div class="line">LANG=zh_CN.UTF-8</div><div class="line">LC_CTYPE=UTF-8</div><div class="line">LC_NUMERIC=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_TIME=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_COLLATE=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_MONETARY=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_MESSAGES=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_PAPER=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_NAME=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_ADDRESS=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_TELEPHONE=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_MEASUREMENT=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_IDENTIFICATION=&quot;zh_CN.UTF-8&quot;</div><div class="line">LC_ALL=</div></pre></td></tr></table></figure></p>
<p>Solution:<br>I think that what you want to do is type:<br><code>export LC_ALL=&quot;zh_CN.UTF-8&quot;</code><br>However i think it’s not recommended to do this because it will override all your other locale settings. One thing you might try to avoid that is setting it to an empty string. In theory, that value is allowed to be empty which just tells your computer to use the settings above it.<br>export LC_ALL=””<br>I have no idea if that will work, but it’s worth a shot.</p>
<p>将这一句放到.zshrc等的Shell类的配置文件，<br><code>export LC_ALL=&quot;zh_CN.UTF-8&quot;</code><br>每次启动命令行，就都能正确本地化</p>
<h1 id="只显示常规目录"><a href="#只显示常规目录" class="headerlink" title="只显示常规目录"></a>只显示常规目录</h1><p>$ ls -d */<br>$ ls -F | grep /<br>$ ls -l | grep ^d<br>$ tree -dL 1</p>
<h1 id="只显示隐藏目录"><a href="#只显示隐藏目录" class="headerlink" title="只显示隐藏目录"></a>只显示隐藏目录</h1><p>$ ls -d .*/</p>
<h1 id="隐藏目录和非隐藏目录都显示"><a href="#隐藏目录和非隐藏目录都显示" class="headerlink" title="隐藏目录和非隐藏目录都显示"></a>隐藏目录和非隐藏目录都显示</h1><p>$ find -maxdepth 1 -type d</p>
<h1 id="hostname命令返回当前服务器的主机名。"><a href="#hostname命令返回当前服务器的主机名。" class="headerlink" title="hostname命令返回当前服务器的主机名。"></a>hostname命令返回当前服务器的主机名。</h1><p>$ hostname</p>
<h1 id="显示当前的日期时间"><a href="#显示当前的日期时间" class="headerlink" title="显示当前的日期时间"></a>显示当前的日期时间</h1><p>$ date<br>2016年 03月 14日 星期一 17:32:35 CST</p>
<h1 id="显示本月日历"><a href="#显示本月日历" class="headerlink" title="显示本月日历"></a>显示本月日历</h1><p>$ cal<br>      三月 2016<br>日 一 二 三 四 五 六<br>       1  2  3  4  5<br> 6  7  8  9 10 11 12<br>13 14 15 16 17 18 19<br>20 21 22 23 24 25 26<br>27 28 29 30 31</p>
<h1 id="应用管理"><a href="#应用管理" class="headerlink" title="应用管理"></a>应用管理</h1><p>$ whatis nginx<br>$ whereis nginx</p>
<h1 id="命令行小技巧"><a href="#命令行小技巧" class="headerlink" title="命令行小技巧"></a>命令行小技巧</h1><p>!! 重复上一个命令</p>
<p>!$ 上一个命令中最后一个参数</p>
<p>Ctrl-y 粘贴上一个被删除的词</p>
<h1 id="Find-命令"><a href="#Find-命令" class="headerlink" title="Find 命令"></a>Find 命令</h1><p>找出某个目录下面所有文件，然后删除</p>
<p>$ find /some/path -type f -delete</p>
<p>或者</p>
<p>$ find /some/path -type f -exec rm -f {} \;</p>
<p>找出某个目录下面指定类型的文件，然后删除</p>
<p>$ find /some/path -type f -iname “*.txt” -exec rm -f {} \;</p>
<h1 id="icdiff"><a href="#icdiff" class="headerlink" title="icdiff"></a>icdiff</h1><p>有颜色辅助，且分列显示的命令，比 diff 好用多了。</p>
<h1 id="列举包含某字符串的文件"><a href="#列举包含某字符串的文件" class="headerlink" title="列举包含某字符串的文件"></a>列举包含某字符串的文件</h1><p>find ./ -type f | xargs grep ‘www.baidu.com’</p>
<h1 id="pmset"><a href="#pmset" class="headerlink" title="pmset"></a>pmset</h1><p>mac 电源管理</p>
</features></linux查看环境变量当前信息和查看命令>
    
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="notes/cmd_plan.html"
           data-title="Cmd Plan" data-url="http://icehe.me/notes/cmd_plan.html">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://7vzp68.com1.z0.glb.clouddn.com/about/avatar_pretty_00.png"
               alt="Ice He" />
          <p class="site-author-name" itemprop="name">Ice He</p>
          <p class="site-description motion-element" itemprop="description">Less.</p>
        </div>

        <div class="hidden post-toc" style="max-height: 1220px; width: calc(100% + 0px);" id="popular-post-div">
          <div class="post-toc-content">
            <ol class="nav" id="popular-list"></ol>
          </div>
        </div>

        <!--
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">50</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">categs</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>
        -->

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ice He</span>
</div>



        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"icehe"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("u1mg4ase5iwhhnyqlavbmd5lkbj7mb5oy4linckob65z1axp", "fe7peybzqmpgludkwu43fk15s655i8neejt3pkoezlqtbeu5");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            if ((-1 != location.href.indexOf("icehe.me")) // 在 icehe.me 的域名下
              && (-1 == location.href.indexOf("icehe.me/notes/")) // 不在 icehe.me/notes 的域名下
            ) {
              counter.increment("time");
            }
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    function ranking(Counter, is_post) {
        var popular_list = $('#popular-list2');
        var is_post = (popular_list.length == 1);
        var count = is_post ? 20 : 10;
        if (!is_post) {
            popular_list = $('#popular-list');
            if (popular_list.length == 0) {
                return;
            }
            $('#popular-post-div').removeClass('hidden');
        }

        var query = new AV.Query(Counter);
        query.descending('time');
        query.limit(count + 10);

        //var regex = new RegExp('^.*?(?<!linux).*$', 'i');
        //query.matches('url', regex);

        var excluding_list = [
            //'/about/',
            '/bookmarks/',
            '/reward/',
            '/search/', /* Hidden */
            '/index/', /* Removed */
            '/resume/', /* Removed */
            '/linux/[06] Linux 通过 pip 安装使用 Shadowsocks - CentOS 7/',
            '/linux/[05] 自动挂载 NTFS 格式的 硬盘分区 - CentOS 7/',
            '/linux/[04] 安装 CentOS 7 后必做的 安全防范措施/',
            '/linux/[03] Update Kernel 升级内核 - CentOS 7/',
            '/linux/[02] Config System Envir 配置系统环境 - CentOS 7/',
            '/linux/[01] 恢复 Windows 的 开机引导 - CentOS 7/',
            '/linux/[00] U盘安装 CentOS 7/'
        ];
        query.notContainedIn('url', excluding_list);

        query.limit(count);
        query.find()
            .done(function (results) {
                if (results.length === 0) {
                    return;
                }

                    popular_list.append(
                        '<li class="nav-item nav-level-1 bold" style="'
                        + 'border-bottom-width: 1px; '
                        + 'border-bottom-style: solid; '
                        + 'border-bottom-color: #ccc;"> '
                        + '<i class="fa fa-fire"></i> &nbsp;'
                        + '<span class="nav-text"> Top N </span> '
                        + '</li>'
                    );
                for (var i = 0; i < results.length; ++i) {
                    var counter = results[i];
                    title = counter.get("title");

                    popular_list.append(
                        '<li class="nav-item nav-level-1" '
                        + ((i + 1) % 10 == 0
                            ? 'style="border-bottom-width: 1px; '
                                + 'border-bottom-style: solid;'
                                + 'border-bottom-color: #ccc;"'
                            : '')
                        + '> '
                        + '<span class="nav-number"> '
                        + ((i + 1) % 10) + '. &nbsp;'
                        + '</span> '
                        + '<a class="nav-link" href="' + counter.get("url") + '"> '
                        + '<span class="nav-text"> ' + counter.get('title') + ' </span> '
                        + '</a> '
                        + '<span class="nav-number"> '
                        + '<sup> &nbsp;' + counter.get('time') + ' </sup> '
                        + '</span> '
                        + '</li>'
                    );
                }
                if (!is_post) {
                    popular_list.append(
                        '<li class="nav-item nav-level-1"> '
                        + '<i class="fa fa-eye"></i> &nbsp;'
                        + '<a class="nav-link" href="/bookmarks"> '
                        + '<span class="nav-text bold"> More </span> '
                        + '</a> </li>'
                    );
                    popular_list.append(
                        '<li class="nav-item nav-level-1"> '
                        + '<span class="nav-number"> &nbsp; </span> '
                        + '<a class="nav-link" href="/bookmarks"> '
                        + '<span class="nav-text bold"> &nbsp; </span> '
                        + '</a> </li>'
                    );
                }
          })
          .fail(function (object, error) {
              console.log("Error: " + error.code + " " + error.message);
          });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
      ranking(Counter);
    });
  </script>



  

  

  <script>
    $(window).load(function() {
        var ds_like_button = document.getElementsByClassName('ds-like-thread-button');
        if (1 == ds_like_button.length
                && "none" != document.getElementsByClassName('ds-meta')[0].style.display
                && -1 == document.getElementsByClassName('ds-thread-like-text')[0].innerHTML.indexOf('已喜欢')
        ) {
            ds_like_button[0].click();
            document.getElementsByClassName('ds-like-tooltip-close')[0].click();
            window.location.href = '#';
        }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
